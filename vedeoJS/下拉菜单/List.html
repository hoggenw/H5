<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        *{ padding:0; margin:0; list-style:none;}
        .all{ width:330px; height:30px; background:url(img/bg.jpg) no-repeat; margin:100px auto; line-height:30px; text-align:center; padding-left:10px; margin-bottom:0;}
        .all ul li{ width:100px; height:30px; background:url(img/libg.jpg); float:left; margin-right:10px; position:relative; cursor:pointer;}
        .all ul ul{ position:absolute; left:0; top:30px; display:none;}
    </style>
</head>
<body>
<div class="all" id="list">
    <ul>
        <li>一级菜单
            <ul>
                <li>二级菜单</li>
                <li>二级菜单</li>
                <li>二级菜单</li>
            </ul>
        </li>
        <li>一级菜单
            <ul>
                <li>二级菜单</li>
                <li>二级菜单</li>
                <li>二级菜单</li>
            </ul>
        </li>
        <li>一级菜单
            <ul>
                <li>二级菜单</li>
                <li>二级菜单</li>
                <li>二级菜单</li>
            </ul>
        </li>
    </ul>
</div>
</body>
</html>
<script>
    function List(id) {
        this.id = document.getElementById(id);
        this.lis = this.id.children[0].children;  // 获取一级菜单所有的li
    }
    List.prototype.init = function () {
        console.log("init");
        var that = this;
        for (var i=0;i<this.lis.length;i++) {
            this.lis[i].index = i;
            this.lis[i].onmouseover = function () {
                console.log("onmouseover");
                that.show(this.children[0]);
            };
            this.lis[i].onmouseout = function () {
                console.log("onmouseout");
                that.hidden(this.children[0]);
            };
        }
    }

    List.prototype.show = function (obj) {
        obj.style.display = "block";
    };
    List.prototype.hidden = function (obj) {
        obj.style.display = "none";
    };

    var list = new List("list");
    list.init();


</script>