<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>cache 文件api</title>
    <link rel="stylesheet" href="bootstrap.min.css">
</head>
<body>
<textarea id="txt_value" cols="80" rows="10"></textarea>
<input type="button" value="SET" id="btn_set">
<input type="button" value="GET" id="btn_get">
<form action="">
    <!-- 对于表单里的input来说：可以直接通过name找到
  document.form[0].input_file
  multiple让文件域可以多选 -->
    <input type="file" name="input_file" id="input_file" class="form-control" multiple>
    <input type="button" value="读取文件列表" id="btn-read" class="btn btn-warning">
    <ul class="list-group">

    </ul>
</form>


<script>
    var btnSet = document.querySelector('#btn_set');
    var btnGet = document.querySelector('#btn_get');
    var txtValue = document.querySelector('#txt_value');
    btnGet.addEventListener('click',function () {
        // txtValue.value = sessionStorage.getItem('key1');
//        if(window.sessionStorage){
//            txtValue.value = sessionStorage['key1'];
//        }
        if(window.localStorage){
            txtValue.value = localStorage['key1'];
        }
    });
    btnSet.addEventListener('click',function () {
//       sessionStorage['key1'] = txtValue.value;
        localStorage['key1'] = txtValue.value;
    });

    var inputFile = document.querySelector('#input_file');

    var btnRead = document.querySelector('#btn-read');

    var fileList = document.querySelector('.list-group');

    btnRead.addEventListener('click',function () {
        var files = inputFile.files;
        for (var i = 0 ;i < files.length; i ++){
            var li = document.createElement('li');
            li.setAttribute('class','list-group-item');
            //创建信息子节点
            li.innerHTML = '<h5 class="list-group-item-heading">' + files[i].name + '</h5><p class="list-group-item-text">'+ files[i].lastModifiedDate.toLocaleDateString() + '     ' + files[i].lastModifiedDate.toLocaleTimeString() +'     '+ (files[i].size /1024).toFixed(2) + 'kb'+'</p>';
            fileList.appendChild(li);
        }
    });



</script>
</body>
</html>




































